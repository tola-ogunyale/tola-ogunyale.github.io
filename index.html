<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta http-equiv='cache-control' content='no-cache'>
    <meta http-equiv='expires' content='0'>
    <meta http-equiv='pragma' content='no-cache'>
    <title> Hello World </title>
    <link rel="stylesheet" href="main.css"/>
  </head>
  <body>
    <h1>Hello World</h1>
    <p>tao is now on GitHub pages!</p>
    <div id="threejs-canvas"></div>


    <!-- Three.js library -->
    <script src="https://threejs.org/build/three.min.js"></script>
    <!-- GLTFLoader.js source -->
    <script src="js/GLTFLoader.js"></script>

    <script>
      const renderer = new THREE.WebGLRenderer();
      const camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 1, 1000);
      const scene = new THREE.Scene();
      let Mesh;
      let light;

      function init() {
        scene.background = new THREE.Color('black');
        camera.position.set(0, 10, 20);
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);
      }

      function setLight() {
        light = new THREE.AmbientLight(0xffffff); // soft white light
        scene.add(light);
      }

      function loadGLTF() {
        let balloonLoader = new THREE.GLTFLoader();

        balloonLoader.load('assets/traffic_cone.gltf', (gltf) => {
          Mesh = gltf.scene;
          Mesh.scale.set(0.2,0.2,0.2);
          scene.add(Mesh);
          Mesh.position.x = 0;
          Mesh.position.y = 10;
          Mesh.position.z = 15;
        });
      }

      function animate() {
        requestAnimationFrame(animate);
        if (Mesh && Mesh.rotation) {
          Mesh.rotation.y -= 0.005;
        }
        renderer.render(scene, camera);
      }

      init();
      setLight();
      loadGLTF();
      animate();
    </script>
</html>
